$(function() {
    //MAIN MENU HOVER
    $("body").on({
        mouseenter: function () {
            $(this).children('ul').slideDown({
                duration: 200,
                queue: false
            });
        },
        mouseleave: function () {
            $(this).children('ul').slideUp(300);
        }
    }, "#menu .parent");

    //MOBILE MENU TOGGLE
    $("body").on("click", "#navToggle", function(){
        $("#mobileMenu nav").slideToggle();
    });

    //MOBILE SUB MENU CLICK
    $( '#mobileMenu .parent span').click(function() {
        $(this).siblings('ul').slideToggle();
    });

    //FANCYBOX
    $(".overlayImg").fancybox({
        helpers : {
            title : {
                type: 'outside'
            },
            thumbs : {
                width : 50,
                height : 50
            }
        }
    });
});

$(window).load(function() {
    sticky();
});

$(window).resize(function() {
    sticky();
});


function sticky() {
    var footerTop = $("footer").offset().top;
    var footerBottom = footerTop + $("footer").outerHeight();
    var windowHeight = $(window).height();

    if (footerBottom < windowHeight) {
        var footerHeight = $("footer").outerHeight();
        var difference = windowHeight - footerTop - footerHeight;
        //IF SITECONTENT EXISTS
        if ($(".siteContent").length != 0) {
            //IF OUTERSIDEBAR EXISTS
            if ($("#outerSidebar").length != 0 && $("#outerSidebar").css('display') != 'none') {
                if ($(".siteContent:last").outerHeight() > $("#outerSidebar").outerHeight()) {
                    //console.log("1");
                    var lastHeight = $(".siteContent:last").outerHeight();
                    var newHeight = lastHeight + difference - 1;
                    $(".siteContent:last").outerHeight(newHeight);
                    //IF NO OUTERSIDEBAR
                } else {
                    //console.log("2");
                    
                    var lastHeight = $("#outerSidebar").outerHeight();
                    var newHeight = lastHeight + difference - 1;
                    $("#outerSidebar").outerHeight(newHeight);
                    
                }
            }
            else if ($(".sidebar:last").length != 0 && $(".sidebar:last").css('display') != 'none') {
                //console.log("3");
                if ($(".siteContent:last").outerHeight() > $(".sidebar:last").outerHeight()) {
                    var lastHeight = $(".siteContent:last").outerHeight();
                    //console.log("4");
                } else {
                    var lastHeight = $(".sidebar:last").outerHeight();
                    //console.log("5");
                }
                var newHeight = lastHeight + difference - 1;
                $(".sidebar:last").css("height", newHeight + "px");
            }
            else {
                //console.log("6")
                var lastHeight = $(".siteContent:last").outerHeight();
                var newHeight = lastHeight + difference - 1;
                $(".siteContent:last").outerHeight(newHeight);
            }
        } else {
            if (difference > 0) {
                //console.log("7");
                var lastHeight = $(".contentWrap .container:last").outerHeight();
                var newHeight = lastHeight + difference - 1;
                $(".contentWrap .container:last").css("height", newHeight + "px");
            }
        }

    }
}

//TOPTOP
$(document).ready(function() {
    ;
    $().UItoTop({
        easingType: "easeOutQuart"
    })
});
jQuery.extend(jQuery.easing, {
    easeInQuad: function(e, t, n, r, i) {
        return r * (t/=i) * t + n
    },
    easeOutQuad: function(e, t, n, r, i) {
        return - r * (t/=i) * (t - 2) + n
    },
    easeInOutQuad: function(e, t, n, r, i) {
        if ((t/=i / 2) < 1)
            return r / 2 * t * t + n;
        return - r / 2 * (--t * (t - 2) - 1) + n
    },
    easeInCubic: function(e, t, n, r, i) {
        return r * (t/=i) * t * t + n
    },
    easeOutCubic: function(e, t, n, r, i) {
        return r * ((t = t / i - 1) * t * t + 1) + n
    },
    easeInOutCubic: function(e, t, n, r, i) {
        if ((t/=i / 2) < 1)
            return r / 2 * t * t * t + n;
        return r / 2 * ((t -= 2) * t * t + 2) + n
    },
    easeInQuart: function(e, t, n, r, i) {
        return r * (t/=i) * t * t * t + n
    },
    easeOutQuart: function(e, t, n, r, i) {
        return - r * ((t = t / i - 1) * t * t * t - 1) + n
    },
    easeInOutQuart: function(e, t, n, r, i) {
        if ((t/=i / 2) < 1)
            return r / 2 * t * t * t * t + n;
        return - r / 2 * ((t -= 2) * t * t * t - 2) + n
    },
    easeInQuint: function(e, t, n, r, i) {
        return r * (t/=i) * t * t * t * t + n
    },
    easeOutQuint: function(e, t, n, r, i) {
        return r * ((t = t / i - 1) * t * t * t * t + 1) + n
    },
    easeInOutQuint: function(e, t, n, r, i) {
        if ((t/=i / 2) < 1)
            return r / 2 * t * t * t * t * t + n;
        return r / 2 * ((t -= 2) * t * t * t * t + 2) + n
    },
    easeInSine: function(e, t, n, r, i) {
        return - r * Math.cos(t / i * (Math.PI / 2)) + r + n
    },
    easeOutSine: function(e, t, n, r, i) {
        return r * Math.sin(t / i * (Math.PI / 2)) + n
    },
    easeInOutSine: function(e, t, n, r, i) {
        return - r / 2 * (Math.cos(Math.PI * t / i) - 1) + n
    },
    easeInExpo: function(e, t, n, r, i) {
        return t == 0 ? n : r * Math.pow(2, 10 * (t / i - 1)) + n
    },
    easeOutExpo: function(e, t, n, r, i) {
        return t == i ? n + r : r * ( - Math.pow(2, - 10 * t / i) + 1) + n
    },
    easeInOutExpo: function(e, t, n, r, i) {
        if (t == 0)
            return n;
        if (t == i)
            return n + r;
        if ((t/=i / 2) < 1)
            return r / 2 * Math.pow(2, 10 * (t - 1)) + n;
        return r / 2 * ( - Math.pow(2, - 10*--t) + 2) + n
    },
    easeInCirc: function(e, t, n, r, i) {
        return - r * (Math.sqrt(1 - (t/=i) * t) - 1) + n
    },
    easeOutCirc: function(e, t, n, r, i) {
        return r * Math.sqrt(1 - (t = t / i - 1) * t) + n
    },
    easeInOutCirc: function(e, t, n, r, i) {
        if ((t/=i / 2) < 1)
            return - r / 2 * (Math.sqrt(1 - t * t) - 1) + n;
        return r / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + n
    },
    easeInElastic: function(e, t, n, r, i) {
        var s = 1.70158;
        var o = 0;
        var u = r;
        if (t == 0)
            return n;
        if ((t/=i) == 1)
            return n + r;
        if (!o)
            o = i * .3;
        if (u < Math.abs(r)) {
            u = r;
            var s = o / 4
        } else 
            var s = o / (2 * Math.PI) * Math.asin(r / u);
        return - (u * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * i - s) * 2 * Math.PI / o)) + n
    },
    easeOutElastic: function(e, t, n, r, i) {
        var s = 1.70158;
        var o = 0;
        var u = r;
        if (t == 0)
            return n;
        if ((t/=i) == 1)
            return n + r;
        if (!o)
            o = i * .3;
        if (u < Math.abs(r)) {
            u = r;
            var s = o / 4
        } else 
            var s = o / (2 * Math.PI) * Math.asin(r / u);
        return u * Math.pow(2, - 10 * t) * Math.sin((t * i - s) * 2 * Math.PI / o) + r + n
    },
    easeInOutElastic: function(e, t, n, r, i) {
        var s = 1.70158;
        var o = 0;
        var u = r;
        if (t == 0)
            return n;
        if ((t/=i / 2) == 2)
            return n + r;
        if (!o)
            o = i * .3 * 1.5;
        if (u < Math.abs(r)) {
            u = r;
            var s = o / 4
        } else 
            var s = o / (2 * Math.PI) * Math.asin(r / u);
        if (t < 1)
            return - .5 * u * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * i - s) * 2 * Math.PI / o) + n;
        return u * Math.pow(2, - 10 * (t -= 1)) * Math.sin((t * i - s) * 2 * Math.PI / o) * .5 + r + n
    },
    easeInBack: function(e, t, n, r, i, s) {
        if (s == undefined)
            s = 1.70158;
        return r * (t/=i) * t * ((s + 1) * t - s) + n
    },
    easeOutBack: function(e, t, n, r, i, s) {
        if (s == undefined)
            s = 1.70158;
        return r * ((t = t / i - 1) * t * ((s + 1) * t + s) + 1) + n
    },
    easeInOutBack: function(e, t, n, r, i, s) {
        if (s == undefined)
            s = 1.70158;
        if ((t/=i / 2) < 1)
            return r / 2 * t * t * (((s*=1.525) + 1) * t - s) + n;
        return r / 2 * ((t -= 2) * t * (((s*=1.525) + 1) * t + s) + 2) + n
    },
    easeInBounce: function(e, t, n, r, i) {
        return r - jQuery.easing.easeOutBounce(e, i - t, 0, r, i) + n
    },
    easeOutBounce: function(e, t, n, r, i) {
        if ((t/=i) < 1 / 2.75) {
            return r * 7.5625 * t * t + n
        } else if (t < 2 / 2.75) {
            return r * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + n
        } else if (t < 2.5 / 2.75) {
            return r * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + n
        } else {
            return r * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + n
        }
    },
    easeInOutBounce: function(e, t, n, r, i) {
        if (t < i / 2)
            return jQuery.easing.easeInBounce(e, t * 2, 0, r, i) * .5 + n;
        return jQuery.easing.easeOutBounce(e, t * 2 - i, 0, r, i) * .5 + r * .5 + n
    }
});
(function(e) {
    e.fn.UItoTop = function(t) {
        var n = {
            text: "To Top",
            min: 200,
            inDelay: 600,
            outDelay: 400,
            containerID: "toTop",
            containerHoverID: "toTopHover",
            scrollSpeed: 1200,
            easingType: "linear"
        }, r = e.extend(n, t), i = "#" + r.containerID, s = "#" + r.containerHoverID;
        e("body").append('<a href="#" id="' + r.containerID + '">' + r.text + "</a>");
        e(i).hide().on("click.UItoTop", function() {
            e("html, body").animate({
                scrollTop: 0
            }, r.scrollSpeed, r.easingType);
            e("#" + r.containerHoverID, this).stop().animate({
                opacity: 0
            }, r.inDelay, r.easingType);
            return false
        }).prepend('<span id="' + r.containerHoverID + '"></span>').hover(function() {
            e(s, this).stop().animate({
                opacity: 1
            }, 600, "linear")
        }, function() {
            e(s, this).stop().animate({
                opacity: 0
            }, 700, "linear")
        });
        e(window).scroll(function() {
            var t = e(window).scrollTop();
            if (typeof document.body.style.maxHeight === "undefined") {
                e(i).css({
                    position: "absolute",
                    top: t + e(window).height() - 50
                })
            }
            if (t > r.min)
                e(i).fadeIn(r.inDelay);
            else 
                e(i).fadeOut(r.Outdelay)
        })
    }
})(jQuery)
//JQUERY TOUCH LIB
!function(a) {
    function b(a, b) {
        return (m ? b.originalEvent.touches[0] : b)["page" + a.toUpperCase()]
    }
    function c(b, c, d) {
        var g = a.Event(c, t);
        a.event.trigger(g, {
            originalEvent: b
        }, b.target), g.isDefaultPrevented() && b.preventDefault(), d && (a.event.remove(r, p + "." + q, e), a.event.remove(r, o + "." + q, f))
    }
    function d(d) {
        var k = d.timeStamp||+new Date;
        i != k && (i = k, s.x = t.x = b("x", d), s.y = t.y = b("y", d), s.time = k, s.target = d.target, t.orientation = null, g=!1, h=!1, j = setTimeout(function() {
            h=!0, c(d, "press")
        }, a.Finger.pressDuration), a.event.add(r, p + "." + q, e), a.event.add(r, o + "." + q, f), u.preventDefault && d.preventDefault())
    }
    function e(d) {
        return t.x = b("x", d), t.y = b("y", d), t.dx = t.x - s.x, t.dy = t.y - s.y, t.adx = Math.abs(t.dx), t.ady = Math.abs(t.dy), (g = t.adx > u.motionThreshold || t.ady > u.motionThreshold) ? (clearTimeout(j), t.orientation || (t.adx > t.ady ? (t.orientation = "horizontal", t.direction = t.dx > 0 ? 1 : - 1) : (t.orientation = "vertical", t.direction = t.dy > 0 ? 1 : - 1)), d.target !== s.target ? (d.target = s.target, void f.call(this, a.Event(o + "." + q, d))) : void c(d, "drag")) : void 0
    }
    function f(a) {
        var b, d = a.timeStamp||+new Date, e = d - s.time;
        if (clearTimeout(j), a.target === s.target) {
            if (g || h)
                e < u.flickDuration && c(a, "flick"), t.end=!0, b = "drag";
            else {
                var f = k === a.target && d - l < u.doubleTapInterval;
                b = f ? "doubletap" : "tap", k = f ? null : s.target, l = d
            }
            c(a, b, !0)
        }
    }
    var g, h, i, j, k, l, m = "ontouchstart"in window, n = m ? "touchstart": "mousedown", o = m ? "touchend touchcancel": "mouseup mouseleave", p = m ? "touchmove": "mousemove", q = "finger", r = a("html")[0], s = {}, t = {}, u = a.Finger = {
        pressDuration: 300,
        doubleTapInterval: 300,
        flickDuration: 150,
        motionThreshold: 5
    };
    a.event.add(r, n + "." + q, d)
}(jQuery), function(a) {
    var b = function() {
        var b = this, c = 0, d=!1, e = 0, f = 0, g=!1;
        b.settings = {
            block_text: !0,
            inner_width: !1,
            theme: "light",
            flick_animation: "transition-slide",
            auto_flick: !0,
            auto_flick_delay: 10,
            dot_navigation: !0,
            dot_alignment: "center",
            arrows: !0
        }, b.init = function(f, h) {
            b.settings = a.extend(b.settings, h), d = f, d.addClass("flickerplate"), d.find("ul:first").addClass("flicks"), d.find("li:first").addClass("first-flick"), d.attr("data-flick-position", c);
            var i = d.data("flick-animation");
            i && i.length > 0 ? ("transform-slide" == i ? b.settings.flick_animation = "transform-slide" : "transition-slide" == i ? b.settings.flick_animation = "transition-slide" : "jquery-slide" == i ? b.settings.flick_animation = "jquery-slide" : "scroller-slide" == i && (b.settings.flick_animation = "scroller-slide"), d.addClass("animate-" + i)) : d.addClass("animate-" + b.settings.flick_animation);
            var j = d.data("theme"), k = d.find(".first-flick").data("theme");
            j && j.length > 0 ? (b.settings.theme = j, d.addClass(k && k.length > 0 ? "flicker-theme-" + k : "flicker-theme-" + j)) : d.addClass("flicker-theme-" + b.settings.theme);
            var l = d.data("block-text");
            if (void 0 != l && 0 == l && (b.settings.block_text=!1), d.find("li").each(function() {
                e++, a(this).wrapInner('<div class="flick-inner"><div class="flick-content"></div></div>'), $flick_block_text = a(this).data("block-text"), void 0 != $flick_block_text ? 1 == $flick_block_text && (a(this).find(".flick-title").wrapInner('<span class="flick-block-text"></span>'), a(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"></span>')) : 1 == b.settings.block_text && (a(this).find(".flick-title").wrapInner('<span class="flick-block-text"></span>'), a(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"></span>'));
                var c = a(this).data("background");
                c && c.length > 0 && a(this).css("background-image", "url(" + c + ")"), $flick_theme = a(this).data("theme"), $flick_theme && $flick_theme.length > 0 && a(this).addClass("flick-theme-" + $flick_theme)
            }), "scroller-slide" != b.settings.flick_animation) {
                $data_arrow_navigation = d.data("arrows"), void 0 != $data_arrow_navigation ? 0 != $data_arrow_navigation && b.create_arrow_navigation() : 1 == b.settings.arrows && b.create_arrow_navigation(), $data_dot_navigation = d.data("dot-navigation"), $data_dot_alignment = d.data("dot-alignment");
                var m = b.settings.dot_alignment;
                void 0 != $data_dot_alignment && ("left" == $data_dot_alignment ? m = "left" : "right" == $data_dot_alignment && (m = "right")), void 0 != $data_dot_navigation ? 0 != $data_dot_navigation && b.create_dot_navigation(m) : 1 == b.settings.dot_navigation && b.create_dot_navigation(m), $flick_delay = 1e3 * b.settings.auto_flick_delay, $data_auto_flick = d.data("auto-flick"), $data_auto_flick_delay = d.data("auto-flick-delay"), $data_auto_flick_delay && ($flick_delay = 1e3 * $data_auto_flick_delay), void 0 != $data_auto_flick && (b.settings.auto_flick = 0 != $data_auto_flick?!0 : !1), b.auto_flick_start(), b.flick_flicker(), "jquery-slide" != b.settings.flick_animation && d.find("ul.flicks").bind("transitionend MSTransitionEnd webkitTransitionEnd oTransitionEnd", function() {
                    g=!1
                })
            }
        }, b.flick_flicker = function() {
            Modernizr.touch && d.on("drag", function(a) {
                0 == g && "horizontal" == a.orientation && (a.preventDefault(), 1 == a.direction ? (c--, 0 > c ? c = 0 : (g=!0, b.move_flicker(c))) : (c++, c == e ? c = e - 1 : (g=!0, b.move_flicker(c))))
            })
        }, b.create_arrow_navigation = function() {
            $arrow_nav_html = '<div class="arrow-navigation left"><div class="arrow"></div></div>', $arrow_nav_html += '<div class="arrow-navigation right"><div class="arrow"></div></div>', d.prepend($arrow_nav_html), a(".arrow-navigation").mouseover(function() {
                0 == a(this).hasClass("hover") && a(this).addClass("hover")
            }), a(".arrow-navigation").mouseout(function() {
                1 == a(this).hasClass("hover") && a(this).removeClass("hover")
            }), a(".arrow-navigation").on("click", function() {
                a(this).hasClass("right") ? (c++, c == e && (c = 0)) : (c--, 0 > c && (c = e - 1)), b.move_flicker(c)
            })
        }, b.create_dot_navigation = function(c) {
            for ($dot_nav_html = '<div class="dot-navigation ' + c + '"><ul>'; e > f;)
                f++, $dot_nav_html += 1 == f ? '<li><div class="dot active"></div></li>' : '<li><div class="dot"></div></li>';
            $dot_nav_html += "</ul></div>", d.prepend($dot_nav_html), d.find(".dot-navigation li").on("click", function() {
                b.move_flicker(a(this).index())
            })
        }, b.auto_flick_start = function() {
            1 == b.settings.auto_flick && (b.flicker_auto = setInterval(b.auto_flick, $flick_delay))
        }, b.auto_flick = function() {
            c++, c == e && (c = 0), b.move_flicker(c)
        }, b.auto_flick_stop = function() {
            b.flicker_auto = clearInterval(b.flicker_auto)
        }, b.auto_flick_reset = function() {
            b.auto_flick_stop(), b.auto_flick_start()
        }, b.move_flicker = function(a) {
            c = a, "transform-slide" == b.settings.flick_animation ? d.find("ul.flicks").attr({
                style: "-webkit-transform:translate3d(-" + c + "%, 0, 0);-o-transform:translate3d(-" + c + "%, 0, 0);-moz-transform:translate3d(-" + c + "%, 0, 0);transform:translate3d(-" + c + "%, 0, 0)"
            }) : "transition-slide" == b.settings.flick_animation ? d.find("ul.flicks").attr({
                style: "left:-" + c + "00%;"
            }) : "jquery-slide" == b.settings.flick_animation && d.find("ul.flicks").animate({
                left: "-" + c + "00%"
            }, function() {
                g=!1
            }), $crt_flick = d.find("ul.flicks li:eq(" + c + ")"), d.removeClass("flicker-theme-light").removeClass("flicker-theme-dark"), d.addClass($crt_flick.hasClass("flick-theme-dark") ? "flicker-theme-dark" : $crt_flick.hasClass("flick-theme-light") ? "flicker-theme-light" : "flicker-theme-" + b.settings.theme), d.find(".dot-navigation .dot.active").removeClass("active"), d.find(".dot:eq(" + c + ")").addClass("active"), d.attr("data-flick-position", c), b.auto_flick_reset()
        }
    };
    a.fn.flicker = function(c) {
        var d = this.length;
        return this.each(function(e) {
            var f = a(this), g = "flickerplate" + (d > 1 ? "-" + ++e : ""), h = (new b).init(f, c);
            f.data(g, h).data("key", g)
        })
    }
}(jQuery);
//MODERNIZR
;
window.Modernizr = function(a, b, c) {
    function A(a) {
        j.cssText = a
    }
    function B(a, b) {
        return A(m.join(a + ";") + (b || ""))
    }
    function C(a, b) {
        return typeof a === b
    }
    function D(a, b) {
        return !!~("" + a).indexOf(b)
    }
    function E(a, b) {
        for (var d in a) {
            var e = a[d];
            if (!D(e, "-") && j[e] !== c)
                return b == "pfx" ? e : !0
        }
        return !1
    }
    function F(a, b, d) {
        for (var e in a) {
            var f = b[a[e]];
            if (f !== c)
                return d===!1 ? a[e] : C(f, "function") ? f.bind(d || b) : f
        }
        return !1
    }
    function G(a, b, c) {
        var d = a.charAt(0).toUpperCase() + a.slice(1), e = (a + " " + o.join(d + " ") + d).split(" ");
        return C(b, "string") || C(b, "undefined") ? E(e, b) : (e = (a + " " + p.join(d + " ") + d).split(" "), F(e, b, c))
    }
    var d = "2.8.3", e = {}, f=!0, g = b.documentElement, h = "modernizr", i = b.createElement(h), j = i.style, k, l = {}.toString, m = " -webkit- -moz- -o- -ms- ".split(" "), n = "Webkit Moz O ms", o = n.split(" "), p = n.toLowerCase().split(" "), q = {}, r = {}, s = {}, t = [], u = t.slice, v, w = function(a, c, d, e) {
        var f, i, j, k, l = b.createElement("div"), m = b.body, n = m || b.createElement("body");
        if (parseInt(d, 10))
            while (d--)
                j = b.createElement("div"), j.id = e ? e[d] : h + (d + 1), l.appendChild(j);
        return f = ["&#173;", '<style id="s', h, '">', a, "</style>"].join(""), l.id = h, (m ? l : n).innerHTML += f, n.appendChild(l), m || (n.style.background = "", n.style.overflow = "hidden", k = g.style.overflow, g.style.overflow = "hidden", g.appendChild(n)), i = c(l, a), m ? l.parentNode.removeChild(l) : (n.parentNode.removeChild(n), g.style.overflow = k), !!i
    }, x = function() {
        function d(d, e) {
            e = e || b.createElement(a[d] || "div"), d = "on" + d;
            var f = d in e;
            return f || (e.setAttribute || (e = b.createElement("div")), e.setAttribute && e.removeAttribute && (e.setAttribute(d, ""), f = C(e[d], "function"), C(e[d], "undefined") || (e[d] = c), e.removeAttribute(d))), e = null, f
        }
        var a = {
            select: "input",
            change: "input",
            submit: "form",
            reset: "form",
            error: "img",
            load: "img",
            abort: "img"
        };
        return d
    }(), y = {}.hasOwnProperty, z;
    !C(y, "undefined")&&!C(y.call, "undefined") ? z = function(a, b) {
        return y.call(a, b)
    } : z = function(a, b) {
        return b in a && C(a.constructor.prototype[b], "undefined")
    }, Function.prototype.bind || (Function.prototype.bind = function(b) {
        var c = this;
        if (typeof c != "function")
            throw new TypeError;
        var d = u.call(arguments, 1), e = function() {
            if (this instanceof e) {
                var a = function() {};
                a.prototype = c.prototype;
                var f = new a, g = c.apply(f, d.concat(u.call(arguments)));
                return Object(g) === g ? g : f
            }
            return c.apply(b, d.concat(u.call(arguments)))
        };
        return e
    }), q.flexbox = function() {
        return G("flexWrap")
    }, q.flexboxlegacy = function() {
        return G("boxDirection")
    }, q.canvas = function() {
        var a = b.createElement("canvas");
        return !!a.getContext&&!!a.getContext("2d")
    }, q.canvastext = function() {
        return !!e.canvas&&!!C(b.createElement("canvas").getContext("2d").fillText, "function")
    }, q.touch = function() {
        var c;
        return "ontouchstart"in a || a.DocumentTouch && b instanceof DocumentTouch ? c=!0 : w(["@media (", m.join("touch-enabled),("), h, ")", "{#modernizr{top:9px;position:absolute}}"].join(""), function(a) {
            c = a.offsetTop === 9
        }), c
    }, q.rgba = function() {
        return A("background-color:rgba(150,255,150,.5)"), D(j.backgroundColor, "rgba")
    }, q.backgroundsize = function() {
        return G("backgroundSize")
    }, q.borderimage = function() {
        return G("borderImage")
    }, q.borderradius = function() {
        return G("borderRadius")
    }, q.boxshadow = function() {
        return G("boxShadow")
    }, q.textshadow = function() {
        return b.createElement("div").style.textShadow === ""
    }, q.opacity = function() {
        return B("opacity:.55"), /^0.55$/.test(j.opacity)
    }, q.cssanimations = function() {
        return G("animationName")
    }, q.cssgradients = function() {
        var a = "background-image:", b = "gradient(linear,left top,right bottom,from(#9f9),to(white));", c = "linear-gradient(left top,#9f9, white);";
        return A((a + "-webkit- ".split(" ").join(b + a) + m.join(c + a)).slice(0, - a.length)), D(j.backgroundImage, "gradient")
    }, q.csstransforms = function() {
        return !!G("transform")
    }, q.csstransforms3d = function() {
        var a=!!G("perspective");
        return a && "webkitPerspective"in g.style && w("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}", function(b, c) {
            a = b.offsetLeft === 9 && b.offsetHeight === 3
        }), a
    }, q.csstransitions = function() {
        return G("transition")
    }, q.fontface = function() {
        var a;
        return w('@font-face {font-family:"font";src:url("https://")}', function(c, d) {
            var e = b.getElementById("smodernizr"), f = e.sheet || e.styleSheet, g = f ? f.cssRules && f.cssRules[0] ? f.cssRules[0].cssText: f.cssText || "": "";
            a = /src/i.test(g) && g.indexOf(d.split(" ")[0]) === 0
        }), a
    };
    for (var H in q)
        z(q, H) && (v = H.toLowerCase(), e[v] = q[H](), t.push((e[v] ? "" : "no-") + v));
    return e.addTest = function(a, b) {
        if (typeof a == "object")
            for (var d in a)
                z(a, d) && e.addTest(d, a[d]);
        else {
            a = a.toLowerCase();
            if (e[a] !== c)
                return e;
            b = typeof b == "function" ? b() : b, typeof f != "undefined" && f && (g.className += " " + (b ? "" : "no-") + a), e[a] = b
        }
        return e
    }, A(""), i = k = null, function(a, b) {
        function l(a, b) {
            var c = a.createElement("p"), d = a.getElementsByTagName("head")[0] || a.documentElement;
            return c.innerHTML = "x<style>" + b + "</style>", d.insertBefore(c.lastChild, d.firstChild)
        }
        function m() {
            var a = s.elements;
            return typeof a == "string" ? a.split(" ") : a
        }
        function n(a) {
            var b = j[a[h]];
            return b || (b = {}, i++, a[h] = i, j[i] = b), b
        }
        function o(a, c, d) {
            c || (c = b);
            if (k)
                return c.createElement(a);
            d || (d = n(c));
            var g;
            return d.cache[a] ? g = d.cache[a].cloneNode() : f.test(a) ? g = (d.cache[a] = d.createElem(a)).cloneNode() : g = d.createElem(a), g.canHaveChildren&&!e.test(a)&&!g.tagUrn ? d.frag.appendChild(g) : g
        }
        function p(a, c) {
            a || (a = b);
            if (k)
                return a.createDocumentFragment();
            c = c || n(a);
            var d = c.frag.cloneNode(), e = 0, f = m(), g = f.length;
            for (; e < g; e++)
                d.createElement(f[e]);
            return d
        }
        function q(a, b) {
            b.cache || (b.cache = {}, b.createElem = a.createElement, b.createFrag = a.createDocumentFragment, b.frag = b.createFrag()), a.createElement = function(c) {
                return s.shivMethods ? o(c, a, b) : b.createElem(c)
            }, a.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + m().join().replace(/[\w\-]+/g, function(a) {
                return b.createElem(a), b.frag.createElement(a), 'c("' + a + '")'
            }) + ");return n}")(s, b.frag)
        }
        function r(a) {
            a || (a = b);
            var c = n(a);
            return s.shivCSS&&!g&&!c.hasCSS && (c.hasCSS=!!l(a, "article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")), k || q(a, c), a
        }
        var c = "3.7.0", d = a.html5 || {}, e = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i, f = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i, g, h = "_html5shiv", i = 0, j = {}, k;
        (function() {
            try {
                var a = b.createElement("a");
                a.innerHTML = "<xyz></xyz>", g = "hidden"in a, k = a.childNodes.length == 1 || function() {
                    b.createElement("a");
                    var a = b.createDocumentFragment();
                    return typeof a.cloneNode == "undefined" || typeof a.createDocumentFragment == "undefined" || typeof a.createElement == "undefined"
                }()
            } catch (c) {
                g=!0, k=!0
            }
        })();
        var s = {
            elements: d.elements || "abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",
            version: c,
            shivCSS: d.shivCSS!==!1,
            supportsUnknownElements: k,
            shivMethods: d.shivMethods!==!1,
            type: "default",
            shivDocument: r,
            createElement: o,
            createDocumentFragment: p
        };
        a.html5 = s, r(b)
    }(this, b), e._version = d, e._prefixes = m, e._domPrefixes = p, e._cssomPrefixes = o, e.hasEvent = x, e.testProp = function(a) {
        return E([a])
    }, e.testAllProps = G, e.testStyles = w, g.className = g.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (f ? " js " + t.join(" ") : ""), e
}(this, this.document), function(a, b, c) {
    function d(a) {
        return "[object Function]" == o.call(a)
    }
    function e(a) {
        return "string" == typeof a
    }
    function f() {}
    function g(a) {
        return !a || "loaded" == a || "complete" == a || "uninitialized" == a
    }
    function h() {
        var a = p.shift();
        q = 1, a ? a.t ? m(function() {
            ("c" == a.t ? B.injectCss : B.injectJs)(a.s, 0, a.a, a.x, a.e, 1)
        }, 0) : (a(), h()) : q = 0
    }
    function i(a, c, d, e, f, i, j) {
        function k(b) {
            if (!o && g(l.readyState) && (u.r = o = 1, !q && h(), l.onload = l.onreadystatechange = null, b)) {
                "img" != a && m(function() {
                    t.removeChild(l)
                }, 50);
                for (var d in y[c])
                    y[c].hasOwnProperty(d) && y[c][d].onload()
            }
        }
        var j = j || B.errorTimeout, l = b.createElement(a), o = 0, r = 0, u = {
            t: d,
            s: c,
            e: f,
            a: i,
            x: j
        };
        1 === y[c] && (r = 1, y[c] = []), "object" == a ? l.data = c : (l.src = c, l.type = a), l.width = l.height = "0", l.onerror = l.onload = l.onreadystatechange = function() {
            k.call(this, r)
        }, p.splice(e, 0, u), "img" != a && (r || 2 === y[c] ? (t.insertBefore(l, s ? null : n), m(k, j)) : y[c].push(l))
    }
    function j(a, b, c, d, f) {
        return q = 0, b = b || "j", e(a) ? i("c" == b ? v : u, a, b, this.i++, c, d, f) : (p.splice(this.i++, 0, a), 1 == p.length && h()), this
    }
    function k() {
        var a = B;
        return a.loader = {
            load: j,
            i: 0
        }, a
    }
    var l = b.documentElement, m = a.setTimeout, n = b.getElementsByTagName("script")[0], o = {}.toString, p = [], q = 0, r = "MozAppearance"in l.style, s = r&&!!b.createRange().compareNode, t = s ? l: n.parentNode, l = a.opera && "[object Opera]" == o.call(a.opera), l=!!b.attachEvent&&!l, u = r ? "object" : l ? "script" : "img", v = l ? "script" : u, w = Array.isArray || function(a) {
        return "[object Array]" == o.call(a)
    }, x = [], y = {}, z = {
        timeout: function(a, b) {
            return b.length && (a.timeout = b[0]), a
        }
    }, A, B;
    B = function(a) {
        function b(a) {
            var a = a.split("!"), b = x.length, c = a.pop(), d = a.length, c = {
                url: c,
                origUrl: c,
                prefixes: a
            }, e, f, g;
            for (f = 0; f < d; f++)
                g = a[f].split("="), (e = z[g.shift()]) && (c = e(c, g));
            for (f = 0; f < b; f++)
                c = x[f](c);
            return c
        }
        function g(a, e, f, g, h) {
            var i = b(a), j = i.autoCallback;
            i.url.split(".").pop().split("?").shift(), i.bypass || (e && (e = d(e) ? e : e[a] || e[g] || e[a.split("/").pop().split("?")[0]]), i.instead ? i.instead(a, e, f, g, h) : (y[i.url] ? i.noexec=!0 : y[i.url] = 1, f.load(i.url, i.forceCSS ||!i.forceJS && "css" == i.url.split(".").pop().split("?").shift() ? "c" : c, i.noexec, i.attrs, i.timeout), (d(e) || d(j)) && f.load(function() {
                k(), e && e(i.origUrl, h, g), j && j(i.origUrl, h, g), y[i.url] = 2
            })))
        }
        function h(a, b) {
            function c(a, c) {
                if (a) {
                    if (e(a))
                        c || (j = function() {
                            var a = [].slice.call(arguments);
                            k.apply(this, a), l()
                        }), g(a, j, b, 0, h);
                    else if (Object(a) === a)
                        for (n in m = function() {
                            var b = 0, c;
                            for (c in a)
                                a.hasOwnProperty(c) && b++;
                                return b
                            }(), a)
                                a.hasOwnProperty(n) && (!c&&!--m && (d(j) ? j = function() {
                                    var a = [].slice.call(arguments);
                                    k.apply(this, a), l()
                                } : j[n] = function(a) {
                                    return function() {
                                        var b = [].slice.call(arguments);
                                        a && a.apply(this, b), l()
                                    }
                                }(k[n])), g(a[n], j, b, n, h))
                } else 
                    !c && l()
            }
            var h=!!a.test, i = a.load || a.both, j = a.callback || f, k = j, l = a.complete || f, m, n;
            c(h ? a.yep : a.nope, !!i), i && c(i)
        }
        var i, j, l = this.yepnope.loader;
        if (e(a))
            g(a, 0, l, 0);
        else if (w(a))
            for (i = 0; i < a.length; i++)
                j = a[i], e(j) ? g(j, 0, l, 0) : w(j) ? B(j) : Object(j) === j && h(j, l);
        else 
            Object(a) === a && h(a, l)
    }, B.addPrefix = function(a, b) {
        z[a] = b
    }, B.addFilter = function(a) {
        x.push(a)
    }, B.errorTimeout = 1e4, null == b.readyState && b.addEventListener && (b.readyState = "loading", b.addEventListener("DOMContentLoaded", A = function() {
        b.removeEventListener("DOMContentLoaded", A, 0), b.readyState = "complete"
    }, 0)), a.yepnope = k(), a.yepnope.executeStack = h, a.yepnope.injectJs = function(a, c, d, e, i, j) {
        var k = b.createElement("script"), l, o, e = e || B.errorTimeout;
        k.src = a;
        for (o in d)
            k.setAttribute(o, d[o]);
        c = j ? h : c || f, k.onreadystatechange = k.onload = function() {
            !l && g(k.readyState) && (l = 1, c(), k.onload = k.onreadystatechange = null)
        }, m(function() {
            l || (l = 1, c(1))
        }, e), i ? k.onload() : n.parentNode.insertBefore(k, n)
    }, a.yepnope.injectCss = function(a, c, d, e, g, i) {
        var e = b.createElement("link"), j, c = i ? h: c || f;
        e.href = a, e.rel = "stylesheet", e.type = "text/css";
        for (j in d)
            e.setAttribute(j, d[j]);
        g || (n.parentNode.insertBefore(e, n), m(c, 0))
    }
}(this, document), Modernizr.load = function() {
    yepnope.apply(window, [].slice.call(arguments, 0))
};
//FLICKERPLATE
(function(e) {
    var t = function() {
        var t = this;
        var n = 0;
        var r = false;
        var i = false;
        var s = false;
        var o = false;
        var u = 0;
        var a = 0;
        var f = false;
        t.settings = {
            arrows: true,
            arrows_constraint: false,
            auto_flick: true,
            auto_flick_delay: 10,
            block_text: true,
            dot_navigation: true,
            dot_alignment: "center",
            flick_animation: "transition-slide",
            flick_position: 1,
            inner_width: false,
            theme: "light"
        };
        t.init = function(i, s) {
            t.settings = e.extend(t.settings, s);
            r = i;
            r.addClass("flickerplate");
            r.find("ul:first").addClass("flicks");
            r.find("li:first").addClass("first-flick");
            n = t.settings.flick_position - 1;
            $data_flick_position = r.data("flick-position");
            if ($data_flick_position != undefined) {
                n = $data_flick_position - 1
            }
            r.attr("data-flick-position", n);
            var o = r.data("flick-animation");
            t.settings.flick_animation = t.settings.flick_animation || o;
            r.addClass("animate-" + t.settings.flick_animation);
            var a = r.data("theme");
            var l = r.find(".first-flick").data("theme");
            if (a && a.length > 0) {
                t.settings.theme = a;
                if (l && l.length > 0) {
                    r.addClass("flicker-theme-" + l)
                } else {
                    r.addClass("flicker-theme-" + a)
                }
            } else {
                r.addClass("flicker-theme-" + t.settings.theme)
            }
            var c = r.data("block-text");
            if (c != undefined) {
                if (c == false) {
                    t.settings.block_text = false
                }
            }
            r.find("ul.flicks > li").each(function() {
                u++;
                e(this).wrapInner('<div class="flick-inner"><div class="flick-content"></div></div>');
                $flick_block_text = e(this).data("block-text");
                if ($flick_block_text != undefined) {
                    if ($flick_block_text == true) {
                        e(this).find(".flick-title").wrapInner('<span class="flick-block-text"></span>');
                        e(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"></span>')
                    }
                } else if (t.settings.block_text == true) {
                    e(this).find(".flick-title").wrapInner('<span class="flick-block-text"></span>');
                    e(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"></span>')
                }
                var n = e(this).data("background");
                if (n && n.length > 0) {
                    e(this).css("background-image", "url(" + n + ")")
                }
                $flick_theme = e(this).data("theme");
                if ($flick_theme && $flick_theme.length > 0) {
                    e(this).addClass("flick-theme-" + $flick_theme)
                }
            });
            if (t.settings.flick_animation != "scroller-slide") {
                $data_arrow_navigation = r.data("arrows");
                if ($data_arrow_navigation != undefined) {
                    if ($data_arrow_navigation != false) {
                        t.create_arrow_navigation()
                    }
                } else if (t.settings.arrows == true) {
                    t.create_arrow_navigation()
                }
                $data_dot_navigation = r.data("dot-navigation");
                $data_dot_alignment = r.data("dot-alignment");
                var h = t.settings.dot_alignment;
                if ($data_dot_alignment != undefined) {
                    if ($data_dot_alignment == "left" || $data_dot_alignment == "right") {
                        h = $data_dot_alignment
                    }
                }
                if ($data_dot_navigation != undefined) {
                    if ($data_dot_navigation != false) {
                        t.create_dot_navigation(h)
                    }
                } else if (t.settings.dot_navigation == true) {
                    t.create_dot_navigation(h)
                }
                $flick_delay = t.settings.auto_flick_delay * 1e3;
                $data_auto_flick = r.data("auto-flick");
                $data_auto_flick_delay = r.data("auto-flick-delay");
                if ($data_auto_flick_delay) {
                    $flick_delay = $data_auto_flick_delay * 1e3
                }
                if ($data_auto_flick != undefined) {
                    t.settings.auto_flick = $data_auto_flick != false
                }
                t.auto_flick_start();
                t.flick_flicker();
                if (t.settings.flick_animation != "jquery-slide" && t.settings.flick_animation != "jquery-fade") {
                    r.find("ul.flicks").bind("transitionend MSTransitionEnd webkitTransitionEnd oTransitionEnd", function() {
                        f = false
                    })
                }
            }
            t.move_flicker(n)
        };
        t.flick_flicker = function() {
            if (Modernizr.touch) {
                r.on("drag", function(e) {
                    if (f == false) {
                        if (e.orientation == "horizontal") {
                            e.preventDefault();
                            if (e.direction == 1) {
                                if (--n < 0) {
                                    n = 0
                                } else {
                                    f = true;
                                    t.move_flicker(n)
                                }
                            } else {
                                if (++n == u) {
                                    n = u - 1
                                } else {
                                    f = true;
                                    t.move_flicker(n)
                                }
                            }
                        }
                    }
                })
            }
        };
        t.create_arrow_navigation = function() {
            $arrow_nav_html = '<div class="arrow-navigation left"><div class="arrow"></div></div>';
            $arrow_nav_html += '<div class="arrow-navigation right"><div class="arrow"></div></div>';
            r.prepend($arrow_nav_html);
            e(".arrow-navigation").mouseover(function() {
                e(this).toggleClass("hover")
            });
            e(".arrow-navigation").mouseout(function() {
                e(this).toggleClass("hover")
            });
            $data_arrows_constraint = r.data("arrows-constraint");
            if ($data_arrows_constraint != undefined) {
                t.settings.arrows_constraint = $data_arrows_constraint
            }
            r.find(".arrow-navigation").on("click", function() {
                if (e(this).hasClass("right")) {
                    if (++n == u) {
                        n = t.settings.arrows_constraint ? u - 1 : 0
                    }
                } else {
                    if (--n < 0) {
                        n = t.settings.arrows_constraint ? 0 : u - 1
                    }
                }
                t.move_flicker(n)
            })
        };
        t.create_dot_navigation = function(n) {
            $dot_nav_html = '<div class="dot-navigation ' + n + '"><ul>';
            while (a < u) {
                a++;
                if (a == 1) {
                    $dot_nav_html += '<li><div class="dot active"></div></li>'
                } else {
                    $dot_nav_html += '<li><div class="dot"></div></li>'
                }
            }
            $dot_nav_html += "</ul></div>";
            r.prepend($dot_nav_html);
            r.find(".dot-navigation li").on("click", function() {
                t.move_flicker(e(this).index())
            })
        };
        t.auto_flick_start = function() {
            if (t.settings.auto_flick == true) {
                t.flicker_auto = setInterval(t.auto_flick, $flick_delay)
            }
        };
        t.auto_flick = function() {
            if (++n == u) {
                n = 0
            }
            t.move_flicker(n)
        };
        t.auto_flick_stop = function() {
            t.flicker_auto = clearInterval(t.flicker_auto)
        };
        t.auto_flick_reset = function() {
            t.auto_flick_stop();
            t.auto_flick_start()
        };
        t.move_flicker = function(i) {
            n = i;
            if (t.settings.flick_animation == "transform-slide") {
                r.find("ul.flicks").attr({
                    style: "-webkit-transform:translate3d(-" + n + "%, 0, 0);-o-transform:translate3d(-" + n + "%, 0, 0);-moz-transform:translate3d(-" + n + "%, 0, 0);transform:translate3d(-" + n + "%, 0, 0)"
                })
            } else if (t.settings.flick_animation == "transition-slide") {
                r.find("ul.flicks").attr({
                    style: "left:-" + n + "00%;"
                })
            } else if (t.settings.flick_animation == "jquery-slide") {
                r.find("ul.flicks").animate({
                    left: "-" + n + "00%"
                }, function() {
                    f = false
                })
            } else if (t.settings.flick_animation == "transition-fade") {
                var s = parseInt(r.attr("data-flick-position"), 10);
                if (s === i) {
                    setTimeout(function() {
                        r.addClass("fade-inited")
                    }, 10)
                } else {
                    r.find("ul.flicks li:eq(" + s + ")").css("opacity", 0);
                    r.find("ul.flicks li:eq(" + i + ")").css("opacity", 1)
                }
            } else if (t.settings.flick_animation == "jquery-fade") {
                var o = 800;
                var s = parseInt(r.attr("data-flick-position"), 10);
                if (s === i) {
                    r.find("ul.flicks li:gt(" + s + ")").css("display", "none")
                } else {
                    r.find("ul.flicks li:eq(" + s + ")").animate({
                        opacity: 0
                    }, o, function() {
                        e(this).css("display", "none")
                    })
                }
                r.find("ul.flicks li:eq(" + i + ")").css("display", "").animate({
                    opacity: 1
                }, o)
            }
            $crt_flick = r.find("ul.flicks li:eq(" + n + ")");
            r.removeClass("flicker-theme-light").removeClass("flicker-theme-dark");
            if ($crt_flick.hasClass("flick-theme-dark")) {
                r.addClass("flicker-theme-dark")
            } else if ($crt_flick.hasClass("flick-theme-light")) {
                r.addClass("flicker-theme-light")
            } else {
                r.addClass("flicker-theme-" + t.settings.theme)
            }
            r.find(".dot-navigation .dot.active").removeClass("active");
            r.find(".dot:eq(" + n + ")").addClass("active");
            r.attr("data-flick-position", n);
            t.auto_flick_reset()
        }
    };
    e.fn.flicker = function(n) {
        var r = this.length;
        return this.each(function(i) {
            var s = e(this), o = "flickerplate" + (r > 1 ? "-" + ++i : ""), u = (new t).init(s, n);
            s.data(o, u).data("key", o)
        })
    }
})(jQuery)
// JavaScript Document

